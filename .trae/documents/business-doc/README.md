# PawHelp - Платформа помощи питомцам

PawHelp - это комплексная веб-платформа, которая соединяет владельцев животных с людьми, готовыми помочь. Платформа позволяет публиковать объявления о различных видах помощи: финансовой, донорстве крови и физической помощи для животных.

## Основные функции

- Регистрация и авторизация пользователей
- Создание и управление профилями питомцев
- Публикация объявлений о помощи
- Поиск объявлений с фильтрацией
- Донорство крови и система подбора доноров
- Загрузка и управление фотографиями и медицинскими документами
- Отслеживание срочных случаев с таймером обратного отсчета

## Технологический стек

- Frontend: React с TypeScript, TailwindCSS
- Backend: Node.js, Express
- База данных: PostgreSQL с Drizzle ORM
- Аутентификация: Passport.js
- Хранение файлов: интегрировано с хранилищем Vercel и локальной файловой системой
- Интеграция с OpenAI для анализа загруженных медицинских документов

## Локальная разработка

1. Клонировать репозиторий:
   ```
   git clone https://github.com/your-username/pawhelp.git
   cd pawhelp
   ```

2. Установить зависимости:
   ```
   npm install
   ```

3. Создать файл с переменными окружения `.env`:
   ```
   DATABASE_URL=postgresql://username:password@localhost:5432/pawhelp
   SESSION_SECRET=your-session-secret
   OPENAI_API_KEY=your-openai-api-key
   ```

4. Запустить миграции базы данных:
   ```
   npm run db:push
   ```

5. Запустить приложение в режиме разработки:
   ```
   npm run dev
   ```

## Настройка деплоя на Vercel

Проект настроен для простого деплоя на Vercel. Следуйте этим шагам:

1. Убедитесь, что у вас есть аккаунт на [Vercel](https://vercel.com/)

2. Установите CLI Vercel:
   ```
   npm install -g vercel
   ```

3. Войдите в свой аккаунт Vercel:
   ```
   vercel login
   ```

4. Предварительный деплой для проверки конфигурации:
   ```
   vercel
   ```

5. Для продакшн деплоя:
   ```
   vercel --prod
   ```

### Настройка переменных окружения на Vercel

Для корректной работы приложения на Vercel, необходимо настроить следующие переменные окружения:

1. Перейдите в dashboard Vercel > ваш проект > Settings > Environment Variables
2. Добавьте следующие переменные:
   - `DATABASE_URL` - строка подключения к PostgreSQL
   - `SESSION_SECRET` - секретный ключ для сессий
   - `OPENAI_API_KEY` - API ключ для интеграции с OpenAI

### Настройка базы данных для продакшна

Для продакшн-окружения рекомендуем использовать [Neon](https://neon.tech/) или [Supabase](https://supabase.com/) для PostgreSQL. 

Пример подключения к Neon:
1. Создайте проект на Neon и получите строку подключения
2. Добавьте строку подключения в переменную окружения `DATABASE_URL` на Vercel
3. Запустите миграции базы данных:
   ```
   npm run db:push
   ```

## Структура проекта

- `/client` - React фронтенд
- `/server` - Node.js бэкенд
- `/shared` - Общие типы и схемы
- `/api` - Функции API для Vercel
- `/uploads` - Локальное хранилище файлов (для разработки)

## Лицензия

MIT